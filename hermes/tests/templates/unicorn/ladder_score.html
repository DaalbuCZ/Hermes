<div>
    <div class="calculator-form">
        <div class="input-group">
            <label>Ladder Time 1:</label>
            <input type="number" step="0.01" name="ladder_time_1" unicorn:model.debounce-500="time_1" unicorn:change="calculate_ladder_score">
            {% if errors.time_1 %}
            <div class="error-message">{{ errors.time_1 }}</div>
            {% endif %}
        </div>

        <div class="input-group">
            <label>Ladder Time 2:</label>
            <input type="number" step="0.01" name="ladder_time_2" unicorn:model.debounce-500="time_2" unicorn:change="calculate_ladder_score">
            {% if errors.time_2 %}
            <div class="error-message">{{ errors.time_2 }}</div>
            {% endif %}
        </div>

        <div class="score-display">
            Time 1 Score: {{ score_1 }}
        </div>

        <div class="score-display">
            Time 2 Score: {{ score_2 }}
        </div>
    </div>
            {% if errors.time_2 %}
            <div class=" error-message">{{ errors.time_2 }}
</div>
{% endif %}
</div>

<div class="score-display">
    Time 1 Score: {{ score_1 }}
</div>

<div class="score-display">
    Time 2 Score: {{ score_2 }}
</div>

<button type="submit">Submit Test Result</button>
</form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        $('#profile_id').select2({
            placeholder: 'Select a profile',
            allowClear: true,
            theme: 'classic',
            width: '100%'
        });

        $('#profile_id').on('select2:select select2:clear', function (e) {
            try {
                Unicorn.call(this, 'calculate_ladder_score');
            } catch (error) {
                console.error('Error updating ladder score:', error);
            }
        });
    });
</script>

<style>
    .calculator-form {
        max-width: 600px;
        margin: 20px auto;
    }

    .input-group {
        margin: 15px 0;
    }

    .input-group label {
        display: block;
        margin-bottom: 5px;
    }

    .score-display {
        margin: 15px 0;
        font-weight: bold;
    }

    .error-message {
        color: #dc3545;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .select2-container {
        margin-bottom: 15px;
    }
</style>